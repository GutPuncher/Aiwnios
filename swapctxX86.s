SECTION .text
GLOBAL AIWNIOS_getcontext
GLOBAL AIWNIOS_setcontext
GLOBAL AIWNIOS_makecontext
AIWNIOS_getcontext:
	POP RDX
	MOV QWORD [RDI+0*8],RDX
	MOV QWORD [RDI+1*8],RSP
	MOV QWORD [RDI+2*8],RBP
	MOV QWORD [RDI+3*8],RBX
	MOV QWORD [RDI+4*8],R12
	MOV QWORD [RDI+5*8],R13
	MOV QWORD [RDI+6*8],R14
	MOV QWORD [RDI+7*8],R15
	MOV RAX,0
	JMP RDX
AIWNIOS_setcontext:
	MOV RCX,QWORD [RDI+0*8]
	MOV RSP,QWORD [RDI+1*8]
	MOV RBP,QWORD [RDI+2*8]
	MOV RBX,QWORD [RDI+3*8]
	MOV R12,QWORD [RDI+4*8]
	MOV R13,QWORD [RDI+5*8]
	MOV R14,QWORD [RDI+6*8]
	MOV R15,QWORD [RDI+7*8]
	MOV  RAX,1
	JMP RCX
AIWNIOS_makecontext:
	MOV QWORD [RDI+0*8],RSI
	MOV QWORD [RDI+1*8],RDX
	RET
