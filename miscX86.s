SECTION .text
GLOBAL Misc_Btc
Misc_Btc:
	BTC QWORD [RDI],RSI
	SETC AL
	MOVZX RAX,AL
	RET 
GLOBAL Misc_LBtc
Misc_LBtc:
	LOCK BTC QWORD [RDI],RSI
	SETC AL
	MOVZX RAX,AL
	RET 

GLOBAL Misc_Bt
Misc_Bt:
	BT QWORD [RDI],RSI
	SETC AL
	MOVZX RAX,AL
	RET 
GLOBAL Misc_Bts
Misc_Bts:
	BTS QWORD [RDI],RSI
	SETC AL
	MOVZX RAX,AL
	RET 
GLOBAL Misc_Btr
Misc_Btr:
	BTR QWORD [RDI],RSI
	SETC AL
	MOVZX RAX,AL
	RET 
GLOBAL Misc_LBtr
Misc_LBtr:
	LOCK BTR QWORD [RDI],RSI
	SETC AL
	MOVZX RAX,AL
	RET
GLOBAL Misc_LBts
Misc_LBts:
	LOCK BTS QWORD [RDI],RSI
	SETC AL
	MOVZX RAX,AL
	RET 
GLOBAL Misc_Caller
Misc_Caller:
	PUSH RBP
	MOV RBP,RSP
	MOV RCX,RDI
	MOV RAX,RBP
_loop:
	TEST RCX,RCX
	JZ fin
	TEST RAX,RAX 
	JZ fail
	MOV RAX,QWORD [RAX]
	DEC RCX
	JMP _loop
fin:
	TEST RAX,RAX
	JZ fail
	MOV RAX,QWORD[RAX+8]
	LEAVE
	RET
fail:
	MOV RAX,0
	LEAVE
	RET
